@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-parchment text-ink font-sans antialiased;
    min-height: 100vh;
  }

  ::selection {
    background: rgba(139, 26, 26, 0.15);
    color: #1A1A1A;
  }
}

@layer components {
  /* Ornamental double-rule divider */
  .double-rule {
    @apply flex flex-col;
    gap: 4px;
  }
  .double-rule::before,
  .double-rule::after {
    content: '';
    @apply block h-px w-full bg-warm-gray/40;
  }

  /* Ornamental flourish divider */
  .flourish-divider {
    @apply flex items-center justify-center my-8;
  }
  .flourish-divider::before,
  .flourish-divider::after {
    content: '';
    @apply flex-1 h-px bg-warm-gray/30;
  }
  .flourish-divider > span {
    @apply px-6 text-aged-gold text-xl;
  }

  /* Column rule for multi-column layouts */
  .column-rule {
    @apply border-r border-warm-gray/20;
  }

  /* Drop cap for first letter in editorial text */
  .drop-cap::first-letter {
    @apply float-left text-6xl font-serif font-black leading-none mr-3 mt-1;
    color: #8B1A1A;
  }

  /* Pull quote styling */
  .pull-quote {
    @apply border-l-4 border-editorial-red pl-6 py-2 my-6 font-serif text-xl italic text-ink/80;
  }

  /* Newspaper section header */
  .section-header {
    @apply uppercase tracking-widest text-xs font-bold border-b border-warm-gray pb-2 mb-4 text-warm-gray;
  }

  /* Loading shimmer */
  .shimmer {
    background: linear-gradient(
      90deg,
      #F5F0E8 0%,
      #FAF7F0 40%,
      #F5F0E8 80%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }

  /* Animated tab underline */
  .tab-active-underline {
    @apply relative;
  }
  .tab-active-underline::after {
    content: '';
    @apply absolute bottom-0 left-0 right-0 h-[3px] bg-editorial-red;
    animation: underline-grow 0.3s ease-out forwards;
    transform-origin: left;
  }

  /* Newspaper ticker/banner */
  .news-ticker {
    @apply overflow-hidden whitespace-nowrap;
  }
  .news-ticker-content {
    @apply inline-block;
    animation: ticker-scroll 30s linear infinite;
  }

  /* Verdict stamp effect */
  .verdict-stamp {
    animation: stamp-in 0.6s ease-out forwards;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* Staggered children animation */
  .stagger-children > * {
    opacity: 0;
    animation: fade-up 0.5s ease-out forwards;
  }
  .stagger-children > *:nth-child(1) { animation-delay: 0.05s; }
  .stagger-children > *:nth-child(2) { animation-delay: 0.1s; }
  .stagger-children > *:nth-child(3) { animation-delay: 0.15s; }
  .stagger-children > *:nth-child(4) { animation-delay: 0.2s; }
  .stagger-children > *:nth-child(5) { animation-delay: 0.25s; }
  .stagger-children > *:nth-child(6) { animation-delay: 0.3s; }
  .stagger-children > *:nth-child(7) { animation-delay: 0.35s; }
  .stagger-children > *:nth-child(8) { animation-delay: 0.4s; }
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
